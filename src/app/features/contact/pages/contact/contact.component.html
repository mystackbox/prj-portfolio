<div class="contact-page-main" id="contact-page-main">
  <div class="page-content-intro-hr">contact form</div>

  <div class="contact-form-container">
    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">

      <div *ngIf="formError" class="invalid-form-message">
        <i class="bi bi-exclamation-square-fill"></i>
        Please complete all required fields.
      </div>

      <div class="contact-info">
        <fieldset formGroupName="personalDetails">
          <legend>Your Details</legend>

          <div class="form-control-group">
            <input
              type="text"
              id="firstName"
              formControlName="firstName"
              class="input-form-control"
              placeholder="* First name"
              required
            />

            <div
              *ngIf="_firstName?.invalid && _firstName?.touched"
              class="form-validation-error-message"
            >
             <div *ngIf="_firstName?.errors?.['required']">* First name required </div>
            </div>
          </div>

          <div class="form-control-group">
            <input
              type="text"
              id="lastName"
              formControlName="lastName"
              class="input-form-control"
              placeholder="* Last name"
              required
            />

            <div
              *ngIf="_lastName?.invalid && _lastName?.touched"
              class="form-validation-error-message"
            >
            <div *ngIf="_lastName?.errors?.['required']">* Last name required </div>
            </div>
          </div>

          <div class="form-control-group">
            <input
              type="email"
              id="emailAddress"
              formControlName="emailAddress"
              class="input-form-control"
              placeholder="* Email address"
              required
              pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
            />

            <div
              *ngIf="_emailAddress?.invalid && _emailAddress?.touched"
              class="form-validation-error-message"
            >
              <div *ngIf="_emailAddress?.errors?.['required']">*Email address required </div>
              <div *ngIf="_emailAddress?.errors?.['pattern']"> *Enter valid mail address </div>
            </div>
          </div>
        </fieldset>

        <fieldset formGroupName="messageDetails">
          <legend>Your Message</legend>

          <div class="form-control-group">
            <input
              type="text"
              id="subject"
              formControlName="subject"
              class="input-form-control"
              placeholder="* Subject"
              required
            />

            <div
              *ngIf="_subject?.invalid && _subject?.touched"
              class="form-validation-error-message"
            >
               <div *ngIf="_subject?.errors?.['required']"> *Subject required</div>
            </div>
          </div>

          <div class="form-control-group">
            <textarea
              id="message"
              formControlName="message"
              class="input-form-control"
              placeholder="* Message"
              required
              rows="4"
            >
            </textarea>

            <div
              *ngIf="_message?.invalid && _message?.touched"
              class="form-validation-error-message text-area-error-message"
            >
              <div *ngIf="_message?.errors?.['required']"> *Message required</div>
            </div>
          </div>
        </fieldset>
      </div>

      <div class="contact-buttons">
        <button id="submit-button" type="submit" class="submit-button button">submit</button>
        <div id="reset-button" class="reset-button button" (click)="onReset()">
          clear
        </div>
      </div>
    </form>
  </div>
</div>
